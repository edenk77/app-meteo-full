<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel='manifest' href='./manifest.json'>
    <meta name='mobile-web-app-capable' content='yes'>
    <link rel='icon' sizes='512x512' href='/img/icon-512x512.png'>
    <meta name="theme-color" content="#317EFB"/>
    <link rel="apple-touch-icon" href="/img/icon-512x512.png">
    <link rel="stylesheet" href="/css/style.css">
    <title>App Météo - Eden</title>
</head>
<body>
    <button id="btnAdd">
        <a href="">Download</a>
    </button>

    <div class="containerup">
            <!-- Status Bar -->
        <div id="status">
            <p></p>
            <button class="close"><i class="fa fa-times" aria-hidden="true"></i></button>
        </div>
        <!-- Current Weather -->
        <div id="current" class="wrapper">
            <div class="research">
                <input id="ville" type="text">
                <button id="go">Go</button>
            </div>
            <h1 class="location">Chicago, IL</h1>
            <h2 class="date">Sunday, January 1, 2017</h2>
            <!-- <div class="weatherIcon">
                <div class="sunny">
                    <div class="inner">
                        <img src="img/sunny.png" alt="">
                    </div>
                </div>
            </div> -->

            <div class="imageIcone">
                <img class="_5 img" src="img/sunny.png" alt="">
            </div>
            
            <p class="temp">72</p>
            <p class="conditions">Sunny</p>
        </div>

        <!-- Future Forecast -->
        <div id="future" class="wrapper">
            <div class="container">
                <h3 class="day">Mon</h3>
                <div class="weatherIcon">
                    <div class="partlycloudy">
                        <div class="inner"><img src="img/cloudy.png" alt=""></div>
                    </div>
                </div>
                <p class="conditions">Partly Cloudy</p>
                <p class="tempRange"><span class="high">64</span> | <span class="low">48</span></p>
            </div>


            <div class="container container2">
                <h3 class="day day2">Tue</h3>
                <div class="weatherIcon">
                    <div class="mostlycloudy">
                        <div class="inner inner2"><img src="img/cloudyandrainny.png" alt=""></div>
                    </div>
                </div>
                <p class="conditions conditions2">Mostly Cloudy</p>
                <p class="tempRange"><span class="high high2">57</span> | <span class="low low2">45</span></p>
            </div>


            <div class="container">
                <h3 class="day day3">Wed</h3>
                <div class="weatherIcon">
                    <div class="rain">
                        <div class="inner inner3"><img src="img/rain.png" alt=""></div>
                    </div>
                </div>
                <p class="conditions conditions3">Chance of Rain</p>
                <p class="tempRange"><span class="high igh3">63</span> | <span class="low low3">59</span></p>
            </div>
        </div>

        <footer>
            <p id="lastUpdated">Lever de soleil :</p>
            <p id="lastUpdated2">Coucher de soleil</p>
            <p>Created by <a href="" title="Visit Portfolio Site" target="_blank">Eden Konde Tedika</a> <br> Weather data from <a href="#" title="Wunderground.com" target="_blank">Omniverse Art</a></p>
        </footer>
    </div>
    
    


    <script src="js/jquery-3.6.1.min.js"></script>
    <script src="./service-worker.js"></script>
    <script src="js/scripts.js"></script>
    <script>
        //ENREGISTREMENT DU SERVICE WORKER
    // service worker
        if ('serviceWorker' in navigator) {
          console.log('CLIENT: service worker registration in progress.');
          navigator.serviceWorker.register('/service-worker.js').then(function() {
            console.log('CLIENT: service worker registration complete!');
          }, function() {
            console.log('CLIENT: service worker registration failure.');
          });
        } else {
          console.log('CLIENT: service worker is not supported.');
        }

        //FONCTION DU BOUTON D'INSTALLATION
        // Initialize deferredPrompt for use later to show browser install prompt.
            let deferredPrompt;

            window.addEventListener('beforeinstallprompt', (e) => {
            // Prevent the mini-infobar from appearing on mobile
            e.preventDefault();
            // Stash the event so it can be triggered later.
            deferredPrompt = e;
            // Update UI notify the user they can install the PWA
            showInstallPromotion();
            // Optionally, send analytics event that PWA install promo was shown.
            console.log('beforeinstallprompt event was fired: ');
            })



            function  showInstallPromotion() {
            console.log("ok on peut installer");

            $('#btnAdd').show();
            $('#btnNoAdd').hide();

            }

    </script>
    
</body>
</body>
</html>